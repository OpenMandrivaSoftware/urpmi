.TH urpmi.addmedia 8 "05 Jul 2001" "MandrakeSoft" "Mandrake Linux"
.IX urpmi.addmedia
.SH NAME
urpmi.addmedia \- adds a new rpms media for use with urpmi
.SH SYNOPSIS
.B urpmi.addmedia [\fIoptions\fP] <\fIname\fP> <\fIurl\fP>
.SH DESCRIPTION
urpmi.addmedia tells urpmi that he can find new rpms at the specified
location. Currently supported medias are: local drives, removable drives
(such as cd's), http and ftp.
.PP
All users belonging to group urpmi are allowed to add a new media.
.PP
One of the following modes must be choosen:
.PP
http:
.br
.IP "\fB    urpmi.addmedia <\fIname\fP> http://<\fIhost\fP>/<\fIpath\fP> with <\fIrelative path of hdlist\fP>\fP"
Where <\fIname\fP> is your reference for the media (e.g. MandrakeUpdate).
.br
<\fIhost\fP>/<\fIpath\fP> is the location of the rpm directory on the net.
.br
<\fIrelative path of hdlist\fP> is the pathname where to find the hdlist of
the rpms. The location is given relative to <\fIpath\fP>.
.br
Note that \fBwget\fP is used to download files, you may add specific options to
\fBwget\fP by editing \fB/etc/wgetrc\fP file. Please refer to \fBwget\fP
documentation for more information.
.IP "\fB    urpmi.addmedia <\fIname\fP> ftp://<\fIlogin\fP>:<\fIuser\fP>@<\fIhost\fP>/<\fIpath\fP> with <\fIrelative path of hdlist\fP>\fP"
The same as for http, just add your login and user if required (Note that
you needn't to specify anonymous as login for anonymous access ftp servers).
.br
Note that \fBwget\fP is used to download files, so if a firewall is used you may
have to add \fBpassive_ftp=on\fP option to \fB/etc/wgetrc\fP. 
.nf
eg: urpmi.addmedia ftp ftp://a:a@leia//export/Mandrake/RPMS with ../base/hdlist
.fi
.PP
Local drive or NFS:
.br
.IP "\fB    urpmi.addmedia <\fIname\fP> file://<\fIpath\fP>\fP with <\fIrelative path of hdlist\fP>\fP"
Where <\fIname\fP> is your reference for the media (e.g. Myrpms).
.br
<\fIpath\fP> is the location of the rpm directory on your machine.
.PP
Removable device:
.br
.IP "\fB    urpmi.addmedia removable_<\fIdevice\fP>://<\fIpath\fP>\fP with <\fIrelative path of hdlist\fP>\fP"
<\fIdevice\fP> is the name of your media as specified in the /dev/ directory
(e.g. cdrom, floppy, zip, ...).
.br
<\fIpath\fP> is the location of the rpm directory on your machine when media
is mounted.
.PP
.SH OPTIONS
.IP "\fB\--update\fP"
add a medium which will be taken into account when updating only update media by
\fBurpmi\fP.
.SH FILES
/usr/bin/urpmi
.br
The \fBurpmi\fP executable (perl script)
.PP
/var/lib/urpmi/list.*
.br
Contains the list of all packages known by urpmi and their location. There
is one filelist per media(*).
.PP
/var/lib/urpmi/hdlist.*
.br
Contain information about all known packages, it's a summary of rpm headers.
There is one filelist per media(*).
.PP
/var/lib/urpmi/synthesis.hdlist.*
.br
Contain synthesis information about all known packages built from hdlist files
that can be used by minimal closure algorithm. If these files are not present
use \fBurpmi.update -a\fP to generate them. These files are not mandatory.
.PP
/etc/urpmi/urpmi.cfg
.br
Contains media description, previous format from older urpmi is accepted.
.PP
/etc/urpmi/skip.list
.br
Contains package names that should be not automatically updated.
.PP
/var/lib/urpmi/depslist.ordered
.br
A simple text file containing all dependencies of all known packages.
.PP
/var/lib/urpmi/provides
.br
A simple text file containning all provides and the list of associated
packages that contains them.
.PP
/var/lib/urpmi/compss
.br
A simple text file containning for each Group used the list of package in
this group.
.SH "SEE ALSO"
urpmi(8),
urpmi.update(8),
urpmi.removemedia(8),
autoirpm(8),
autoirpm-icons(8),
gurpmi(8),
urpmf(8),
urpmq(8),
rpmdrake(8)
.SH AUTHOR
Pascal Rigaux, Mandrakesoft <pixel@mandrakesoft.com>
.br
Francois Pons, Mandrakesoft <fpons@mandrakesoft.com>
