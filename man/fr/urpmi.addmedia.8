.\" Relecture Gérard Delafond
.TH urpmi.addmedia 8 "29 Aou 2002" "Mandrakesoft" "Mandrakelinux"
.IX urpmi.addmedia
.SH NOM
urpmi.addmedia \- Ajoute une nouvelle source de rpm pour urpmi.
.SH SYNOPSIS
.B urpmi.addmedia [\fIoptions\fP] <\fInom\fP> <\fIurl\fP>
.SH DESCRIPTION
urpmi.addmedia dit à urpmi qu'il peut trouver de nouveaux rpm
à l'endroit spécifié. Les média supportés sont pour l'instant\ :
disques locaux, disques amovibles (tels que les cédéroms), http et ftp.
.PP
L'un des modes suivants doit être choisi\ : 
.PP
http:
.br
.IP "\fB urpmi.addmedia [\fIoptions\fP] <\fInom\fP> http://<\fIhôte\fP>/<\fIchemin\fP> [with <\fInom de fichier relatif de hdlist\fP>]\fP"
où <\fInom\fP> est votre référence pour la source (exemple\ : "updates").
<\fInom\fP> est optionnel si \fB--distrib\fP est une des \fIoptions\fP.
.br
<\fIhôte\fP>/<\fIchemin\fP> est l'emplacement du répertoire de rpm sur le net.
.br
<\fInom de fichier relatif de hdlist\fP> est l'emplacement du fichier hdlist des rpm.
L'emplacement est donné relativement à <\fIchemin\fP>.
.br
\fBcurl\fP est utilisé par défaut pour télécharger les fichiers,
\fBwget\fP peut être utilisé si \fBcurl\fP n'est pas installé ou 
\fB--curl\fP est une des \fIoptions\fP.
.PP
ftp:
.IP "\fB urpmi.addmedia [\fIoptions\fP] <\fInom\fP> ftp://<\fIutilisateur\fP>:<\fImot de passe\fP>@ <\fIhôte\fP>/<\fIchemin\fP> [with <\fInom de fichier relatif de hdlist\fP>]\fP
La même chose que http, précisez juste vos mot de passe et nom d'utilisateur
(notez que vous n'avez pas à spécifier «\ anonymous\ » comme utilisateur pour
accéder à un serveur ftp anonyme).
.br
Notez que si \fBwget\fP est utilisé à travers un pare-feu (firewall), vous
pouvez avoir à ajouter l'option \fBpassive_ftp=on\fP dans \fB/etc/wgetrc\fP. 
.nf
exemple\ : urpmi.addmedia ftp ftp://a:a@leia//export/media/main with ../base/hdlist
.fi
.PP
Disque local ou NFS\ :
.br
.IP "\fB urpmi.addmedia [\fIoptions\fP] <\fInom\fP> file://<\fIchemin\fP>\fP [with <\fInom de fichier relatif de hdlist\fP>]\fP"
Où <\fInom\fP> est votre référence pour la source (par exemple\ : Mes_rpms).
.br
<\fIchemin\fP> est l'emplacement du répertoire de rpm sur votre machine.
.PP
Disques amovibles\ :
.br
.IP "\fB urpmi.addmedia [\fIoptions\fP] <\fInom\fP> removable://<\fIchemin\fP>\fP [with <\fInom de fichier relatif de hdlist\fP>]\fP"
<\fIchemin\fP> est l'emplacement du répertoire de rpm sur votre machine
lorsque le disque amovible est monté.
.PP
.SH OPTIONS
.IP "\fB\--wget\fP"
utiliser  wget pour récupérer les fichiers distants.
Par défaut curl est utilisé s'il est présent, wget dans le cas contraire.
.IP "\fB\--curl\fP"
utiliser curl pour récupérer les fichiers distants.
Par défaut curl est utilisé s'il est présent wget, dans le cas contraire.
.IP "\fB\--update\fP"
crée une source de mise à jour pour \fBurpmi\fP.
.IP "\fB\--distrib\fP"
crée automatiquement toutes les sources à partir des médias d'installation.
<\fInom\fP> peut être utilisé pour créer nouveau nom de source dans
la base de données urpmi. L'option \fBwith [...]\fP est inutile car
les fichiers hdlist des médias d'installation sont utilisés automatiquement.
.SH FICHIERS
/usr/sbin/urpmi.addmedia
.br
L' exécutable \fBurpmi.addmedia\fP (script Perl)
.PP
/var/lib/urpmi/list.*
.br
Contient une liste de tous les paquetages connus par urpmi, 
ainsi que leurs emplacements.
Il y a un fichier par source de programmes(*).
.PP
/var/lib/urpmi/hdlist.*
.br
Contient l'information sur tous les paquetages connus, c'est un résumé
des en-têtes des rpm.
Il y a un fichier par source(*).
.PP
/var/lib/urpmi/synthesis.hdlist.*
.br
Contient une synthèse de l'information sur tous les paquetages connus,
construite à partir des fichiers hdlist, et qui peut être utilisée
par un algorithme de rapprochement minimal. Si ces fichiers ne sont pas
présents, utilisez \fBurpmi.update -a\fP pour les générer. Ces fichiers
ne sont pas obligatoires.
.PP
/etc/urpmi/urpmi.cfg
.br
Contient une description des sources des programmes\ ; les anciens
formats d'urpmi sont acceptés.
.PP
/etc/urpmi/parallel.cfg
.br
Contient une description des alias pour l'option \fB--parallel\fP de urpmi.
Le format est  \fB<alias>:<interface[(media)]>:<paramètre de l interface>\fP 
où \fB<alias>\fP est un nom symbolique, \fB<interface>\fP peut être \fBka-run\fP
ou \fBssh\fP, \fB<media>\fP est une liste de médias (comme le paramètre \fB--media\fP),
\fB<paramètre de l interface>\fP est un paramètre spécifique à l'interface comme "-c ssh
-m node1 -m node2" pour \fBka-run\fP ou "node1:node2" pour \fBssh\fP.
.PP
/etc/urpmi/skip.list
.br
Contient une liste de paquetages qui ne doivent pas être mis à jour avec
l'option \fB--auto-select\fP, mais qui restent installables par une demande explicite.
Chaque ligne contient un nom de paquetage, avec optionellement le numéro de version,
ou une expression régulière si elle est entourée par des slashes (\fB/\fP)) .

.PP
/etc/urpmi/inst.list
.br
Contient les noms de paquetages devant être installés plutôt que mis à jour.
.SH "VOIR AUSSI"
urpmi(8),
urpmi.update(8),
urpmi.removemedia(8),
urpmf(8),
urpmq(8),
rpmdrake(8)
.SH AUTEURS
Pascal Rigaux, Mandrakesoft <pixel@mandrakesoft.com>
.br
Francois Pons, Mandrakesoft 
.br
Rafael Garcia-Suarez, Mandrakesoft 
.SH TRADUCTION
Jean-Michel FAYARD, 2002 <jean-michel.fayard@moufrei.de>
