.TH urpmi.cfg 5 "28 Aug 2003" "Mandriva" "Mandriva Linux"
.IX urpmi.cfg
.SH NAME
urpmi.cfg \- urpmi option and media configuration file format.
.SH DESCRIPTION
The urpmi.cfg file is divided in multiple sections: one section to set global
options, and one section per media.

.SS Global options

Some global options can be activated by default. The following sample shows how
to disable signature checking and avoid transaction splits :

.B "{"
.br
.B "  no-verify-rpm"
.br
.B "  split-length: 0"
.br
.B "}"

The following options can be written in this section :

.TP
.B allow-force
Same as \fB--allow-force\fP for \fBurpmi\fP, disabled by default.

.TP
.B allow-nodeps
Same as \fB--allow-nodeps\fP for \fBurpmi\fP, disabled by default.

.TP
.B downloader
Specify which download program to use: \fBwget\fP or \fBcurl\fP.

.TP
.B excludedocs
Same as \fB--excludedocs\fP for \fBurpmi\fP, default is disabled.

.TP
.B excludepath
Same as \fB--excludepath\fP for \fBurpmi\fP. This options allows to give a comma
separated list of paths to be excluded on installation. There is no path
exclusion by default.

.TP
.B fuzzy
Same as \fB--fuzzy\fP for \fBurpmi\fP or \fBurpmq\fP. Enable or disable
fuzzy search, disabled by default. Enabling it can be written in various ways :
\fBfuzzy\fP or \fBfuzzy: yes\fP or \fBfuzzy: on\fP or \fBfuzzy: 1\fP.

.TP
.B key-ids
This option is not available on the command line. It allows to use a comma
separated list of \fBkey-ids\fP to be globally accepted (keys still need to be
authorized by \fBrpm\fP) for any medium unless a specific \fBkey-ids\fP option
for this medium is given. There is no default (even Mandriva key id 70771ff3
is not by default).

.TP
.B limit-rate
Same as \fB--limit-rate\fP for all tools. This option allows to control download
speed, there is no limitation by default. The number is given in kilo-bytes per
second, unless a suffix \fBK\fP, \fBM\fP is added.

.TP
.B noreconfigure
Specifies that the media should not be reconfigured (by a reconfiguration file
present on the medium).

.TP
.B norebuild
Same as \fB--norebuild\fP for \fBurpmi\fP, \fBurpmi.update\fP and
\fBurpmi.addmedia\fP, disabled by default (meaning that \fBurpmi\fP
will try to rebuild hdlists by default).

.TP
.B pre-clean, post-clean, clean
Control cache management for \fBurpmi\fP, default is only \fBpost-clean\fP
activated.

.TP
.B prohibit-remove
A comma-separated list of package names that must never be removed (just like
basesystem).

.TP
.B retry
Specify how many times the downloader should retry in case of non-permanent
errors.

.TP
.B split-length
Same as \fB--split-length\fP for \fBurpmi\fP. This option allows to control the
minimal length of split transaction. The default value is 1 (smallest possible
transaction). Setting this value to 0 disable the split of transaction.

.TP
.B split-level
Same as \fB--split-level\fP for \fBurpmi\fP. This option allows to control if
transaction should be split depending of the number of packages to upgrade. The
default value is 20.

.TP
.B strict-arch
Same as \fB--strict-arch\fP for \fBurpmi\fP. Boolean option, disabled by
default (meaning that packages can be upgraded with versions for another
architecture).

.TP
.B verify-rpm
Same as \fB--verify-rpm\fP for \fBurpmi\fP. Enable or disable signature
checking (it's enabled by default). Disabling it can be written
in various ways (as for all the other boolean options) :
\fBno-verify-rpm\fP or \fBverify-rpm: no\fP or \fBverify-rpm: off\fP or
\fBverify-rpm: 0\fP.

.SS Medium description

A medium is described as follows :

.B "name url {"
.br
.B "  hdlist: ..."
.br
.B "  ..."
.br
.B "}"

where \fBname\fP is the medium name (space characters are prefixed by a backslash)
and where the optional \fBurl\fP is the medium URL (if no \fBurl\fP is given, it will
be guessed according to the mandatory list file).

Most other options like \fBlist\fP, \fBwith_hdlist\fP, \fBsynthesis\fP,
\fBremovable\fP, \fBvirtual\fP are for internal use and should be changed only
by experienced users.

Options like \fBupdate\fP, \fBignore\fP or \fBkey-ids\fP can be modified by
users to respectively mark mediums as update sources, to have them being
ignored, or to specify the allowed GPG key ids for packages from the medium for
verification (unless of course signature checking has been disabled globally).
It's also possible to override \fBverify-rpm\fP and \fBdownloader\fP in
a medium description.

Please note that \fBkey-ids\fP is automatically set by \fBurpmi.update\fP or
\fBurpmi.addmedia\fP if a remote pubkey file is available on the mirror. This
file contains all the GPG armor keys that may be used.

.SH BUGS
An \fB{\fP should finish a line, as well as a \fB}\fP should start it when used.

This means the construction \fB{ no-verify-rpm }\fP on a single line is invalid.
.SH AUTHOR
Pascal Rigaux (original author),
Francois Pons,
Rafael Garcia-Suarez, <rgarciasuarez@mandriva.com>
(current maintainer)
.SH SEE ALSO
\fIurpmi\fP(8), \fIurpmi.files\fP(5).
