.TH urpmi 8 "7 Jan 2003" "MandrakeSoft" "Mandrake Linux"
.IX urpmi
.SH NAME
urpmi \- rpm wrapper making installs easier for the user
.SH SYNOPSIS
.B urpmi [\fIoptions\fP] [\fIpackage_names\fP | \fIrpm_files...\fP]
.SH DESCRIPTION
urpmi authorizes well-known rpms (or rpm files) to be installed including
all their dependencies.
You can use it to install source package dependencies too as root, or source
package itself as simple user.

You can compare rpm vs. urpmi  with  insmod vs. modprobe or dpkg vs apt-get
.PP
Just launch urpmi followed by what you think is the name of the package(s),
and urpmi will:
.br
\- Propose different package names if availables and quit.
.br
\- If only one corresponding package is found, check whether dependencies are 
already installed, or not.
.br
\- If not, propose to install the dependencies and then install all required
dependencies and the package.
.PP
Note that urpmi handle installations from various medias (ftp, http, local and
nfs volumes, removable medias such as CDROMs) and is able to install
dependencies from a media different from the package's media.
If necessary, urpmi asks you to insert the required media.
.PP
To add a new media containing rpms run urpmi.addmedia.
.br
To remove a media use urpmi.removemedia.
.br
To update the packages list (for example when the ftp archive changed) use
urpmi.update.
.br
To automatically install a package corresponding to an executable you tried
to launch, use autoirpm.
.br
To install all available menu entries of all known packages,
use autoirpm-icons.
.SH OPTIONS
.IP "\fB\--help\fP"
print an help message and exit (this is the same as \fB-h\fP or \fB-?\fP).
.IP "\fB\--update\fP"
use only update media. This means \fBurpmi\fP will search and resolve
dependencies only in media marked as update.
.IP "\fB\--media\fP"
select specific media to use instead of all media available (or update media is
\fB--update\fP is used).
.IP "\fB\--synthesis\fP"
use the given synthesis instead of urpmi db for searching packages and resolving
dependencies.
.IP "\fB\--auto\fP"
installs all required dependencies without asking.
.IP "\fB\--auto-select\fP"
automatically select all packages that have to be upgraded according to already
installed packages and packages listed in various media registered.
.IP "\fB\--fuzzy\fP"
disable fast search on exact package name, ie it will propose all
package containing the name even if one has the given name (this is the same
as \fB\-y\fP).
.IP "\fB\--src\fP"
next package name is a source package and it will select all dependencies by
default, unless \fB\--install-src\fP is used in order to install source package
itself.
.IP "\fB\--install-src\fP"
install only source package (no binary packages will be installed).
.IP "\fB\--clean\fP"
remove all packages from the cache in directory /var/cache/urpmi/rpms.
.IP "\fB\--noclean\fP"
do not remove any packages from the cache in directory /var/cache/urpmi/rpms.
.IP "\fB\--force\fP"
assumes yes on all questions.
.IP "\fB\--allow-nodeps\fP"
allow urpmi to ask user to continue installation using no dependencies checking
due to error. By default urpmi exit immediately in such case.
.IP "\fB\--allow-force\fP"
allow urpmi to ask user to continue installation using no dependencies checking
or forced installation due to error. By default urpmi exit immediately in such
case.
.IP "\fB\--parallel\fP"
activate distributed execution of urpmi to other machines (it is mandatory that
urpmi is installed but it is not necessary to have media defined on any
machines). The parameter given after \fB--parallel\fP is an alias name defining
which extension module to use by urpmi (currently \fBurpmi-parallel-ka-run\fP or
\fBurpmi-parallel-ssh\fP) and which machines should be updated, this alias is
defined in the file /etc/urpmi/parallel.cfg as described below.
.IP "\fB\--wget\fP"
use wget only for downloading distant files. By default curl is used if
available or wget instead.
.IP "\fB\--curl\fP"
use curl only for downloading distant files. By default curl is used if
available or wget instead.
.IP "\fB\--proxy\fP"
use specified HTTP proxy where parameter given after options has format
\fB<proxyhost[:port|1080]>\fP.
.IP "\fB\--proxy-user\fP"
use specified user and password to use for proxy authentication,
format is \fB<user:password>\fP.
.IP "\fB\--bug\fP"
create a bug report in directory given by next argument, you have to send a
compressed archive of the directory to \fBurpmi\fP maintainer for the bug being
(problably) fixed.
.IP "\fB\--env\fP"
use a different environment directly from a bug report to replay a bug, the
argument is the same argument given to \fB--bug\fP option.
.IP "\fB\--X\fP"
use X interface.
.IP "\fB\--best-output\fP"
try to use X interface or if not available the standard text interface (using
rpm).
.IP "\fB\--verify-rpm\fP" or "\fB\--no-verify-rpm\fP"
activate (default) or deactivate rpm signature checking.
.IP "\fB\--test\fP"
test (as \fBrpm --test\fP) installation of packages but do not modify the system.
.IP "\fB\--excludepath\fP"
do not install files whose name begins with path given (same as \fBrpm
--excludepath\fP).
.IP "\fB\-a\fP"
if multiple packages match the substring given, take them all
.IP "\fB\-p\fP"
allow search in provides to find package (default).
.IP "\fB\-P\fP"
do not search in provides to find package (this is the opposite of \fB-p\fP).
.IP "\fB\-y\fP"
this is the same as \fB--fuzzy\fP.
.IP "\fB\-s\fP"
this is the same as \fB--src\fP.
.IP "\fB\-q\fP"
proposes a quiet mode when calling rpm where no upgrade status are printed.
.IP "\fB\-v\fP"
proposes a verbose mode with various messages.
.SH FILES
/usr/sbin/urpmi
.br
The \fBurpmi\fP executable (perl script)
.PP
/var/lib/urpmi/list.*
.br
Contains the list of all packages known by urpmi and their location.
There is one filelist per media(*).
.PP
/var/lib/urpmi/hdlist.*
.br
Contains information about all known packages, it's a summary of rpm headers.
There is one hdlist per media(*).
.PP
/var/lib/urpmi/synthesis.hdlist.*
.br
Contains synthesis information about all known packages built from hdlist files
that can be used by minimal closure algorithm. If these files are not present
use \fBurpmi.update -a\fP to generate them.
.PP
/etc/urpmi/urpmi.cfg
.br
Contains media description, previous format from older urpmi is accepted.
.PP
/etc/urpmi/parallel.cfg
.br
Contains parallel alias description, format is
\fB<alias>:<interface[(media)]>:<interface_parameter>\fP where \fB<alias>\fP is
a symbolic name, \fB<interface>\fP can be \fBka-run\fP or \fBssh\fP,
\fB<media>\fP is a media list (as \fB--media\fP parameter),
\fB<interface_parameter>\fP is a specific interface parameter list like "-c ssh
-m node1 -m node2" for \fBka-run\fP extension or "node1:node2" for \fBssh\fP
extension.
.PP
/etc/urpmi/skip.list
.br
Contains package expressions that should not be automatically updated. The
format is a list of provide of package (or regular expression if bounded by
slashes (\fB/\fP)) with optional operator and version string, or regular
expression to match the fullname of packages too.
.PP
/etc/urpmi/inst.list
.br
Contains package names that should be installed instead of updated.
.SH "SEE ALSO"
urpmi.addmedia(8),
urpmi.update(8),
urpmi.removemedia(8),
autoirpm(8),
gurpmi(8),
urpmf(8),
urpmq(8),
rpmdrake(8)
.SH AUTHOR
Pascal Rigaux, Mandrakesoft <pixel@mandrakesoft.com>
.br
Francois Pons, Mandrakesoft <fpons@mandrakesoft.com>
