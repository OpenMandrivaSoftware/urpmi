.TH urpmi.addmedia 8 "28 Srp 2003" "Mandrakesoft" "Mandrakelinux"
.IX urpmi.addmedia
.SH NÁZEV
urpmi.addmedia \- přidá nový zdroj s balíčky RPM pro program urpmi
.SH SYNAPSE
.B urpmi.addmedia [\fIvolby\fP] <\fInázev\fP> <\fIurl\fP>
.SH POPIS
Program urpmi.addmedia sděluje programu urpmi, že jsou k dispozici nové balíčky RPM na zadaném místě. V současné době jsou podporovány následující zdroje: lokální disky, vyjímatelné disky (např. CD), síťové zdroje typu HTTP, FTP, SSH a rsync.
.PP
Musí být zvolen jeden z následujících režimů:
.PP
HTTP:
.br
.IP "\fB  urpmi.addmedia [\fIvolby\fP] <\fInázev\fP> http://<\fIuživatel\fP>:<\fIheslo\fP>@<\fIpočítač\fP>/<\fIcesta\fP> [with <\fIrelativní cesta k souboru hdlist\fP>]\fP"
Kde <\fInázev\fP> je vámi zadaný název zdroje (např. "updates"). <\fInázev\fP> je volitelný, pokud je ve <\fIvolbách\fP> přítomna volba <\fB\--distrib\fP>.
.br
 <\fIpočítač\fP>/<\fIcesta\fP> je umístění adresáře se soubory RPM na síti.
.br
<\fIrelativní cesta k souboru hdlist\fP> je cesta, kde se má hledat soubor hdlist se seznamem balíčků. Umístění je dané relativně vzhledem k <\fIcestě\fP>.
.br
Ke stažení souborů se používá program \fBcurl\fP, lze však použít také program \fBwget\fP, pokud není program \fBcurl\fP nainstalován nebo je ve volbách použita volba \fB\--curl\fP.
.nf
např.: urpmi.addmedia http http://jpackage.sf.net/rpm/free with hdlist.cz
.fi
.PP
FTP:
.br
.IP "\fB  urpmi.addmedia [\fIvolby\fP] <\fInázev\fP> ftp://<\fIuživatel\fP>:<\fIheslo\fP>@<\fIpočítač\fP>/<\fIcesta\fP> [with <\fIrelativní cesta k souboru hdlist\fP>]\fP"
Stejně jako v případě režimu http, pouze přidejte své uživatelské jméno a heslo, pokud je to potřeba (pro anonymní přihlášení na server nemusíte zadávat žádné jméno ani heslo).
.br
Pokud je pro stažení souborů použit program \fBwget\fP a používáte firewall, možná budete muset přidat do souboru \fB/etc/wgetrc\fP volbu \fBpassive_ftp=on\fP. 
.nf
např.: urpmi.addmedia ftp ftp://a:a@leia//export/media/main with ../base/hdlist
.fi
.PP
SSH:
.br
.IP "\fB  urpmi.addmedia [\fIvolby\fP] <\fInázev\fP> ssh://<\fIuživatel\fP>:<\fIheslo\fP>@<\fIpočítač\fP>/<\fIcesta\fP> [with <\fIrelativní cesta k souboru hdlist\fP>]\fP"
Stejně jako v případě režimu http, pouze přidejte své uživatelské jméno a heslo, pokud je to potřeba. Velmi doporučujeme exportovat klíč uživatele root, abyste nemuseli zadávat pořád jeho heslo. Pro stažení souborů se použijí příkazy \fBscp\fP a \fBrsync\fP.
.nf
např: urpmi.addmedia -h ssh ssh://fpons@bi/c/i586/media/main
.fi
.PP
rsync:
.br
.IP "\fB  urpmi.addmedia [\fIvolby\fP] <\fInázev\fP> rsync://<\fIuživatel\fP>:<\fIheslo\fP>@<\fIpočítač\fP>:<\fIport\fP>/<\fIcesta\fP> [with <\fIrelativní cesta k souboru hdlist\fP>]\fP"
Stejně jako v případě režimu http, můžete použít počítač a cestu.
.nf
např: urpmi.addmedia rsync rsync://ftp.orst.edu::mandrake-devel/contrib/ppc with ../../cooker/ppc/media/media_info/hdlist2.cz
.fi
.PP
Lokální soubory nebo svazky NFS:
.br
.IP "\fB  urpmi.addmedia [\fIvolby\fP] <\fInázev\fP> file://<\fIcesta\fP>\fP [with <\fIrelativní cesta k souboru hdlist\fP>]\fP"
Kde <\fInázev\fP> je váš název pro zdroj (např. Mojerpm).
.br
<\fIcesta\fP> je umístění adresáře s balíčky RPM na vašem počítači.
.PP
Vyjímatelná zařízení:
.br
.IP "\fB  urpmi.addmedia [\fIvolby\fP] <\fInázev\fP> removable://<\fIcesta\fP>\fP [with <\fIrelativní cesta k souboru hdlist\fP>]\fP"
<\fIcesta\fP> je umístění adresáře s balíčky RPM na vašem počítači, kam je připojený zdroj.
.PP
.SH VOLBY
.IP "\fB\--wget\fP"
pro stahování vzdálených souborů se použije výhradně program wget. Implicitně se používá program curl a program wget pouze tehdy, pokud curl není k dispozici.
.IP "\fB\--curl\fP"
pro stahování vzdálených souborů se použije výhradně program curl. Implicitně se používá program curl a program wget pouze tehdy, pokud curl není k dispozici.
.IP "\fB\--limit-rate\fP \fIrychlost\fP"
pokusí se omezit rychlost stahování, \fIrychlost\fP se zadává v b/s. Tato volba není implicitně aktivní.
.IP "\fB\--proxy\fP \fIproxyhost[:port|1080]\fP"
použije zadanou HTTP proxy.
.IP "\fB\--proxy-user\fP \fIuživatel:heslo\fP"
použije zadaného uživatele a heslo pro ověření na proxy.
.IP "\fB\--update\fP"
přidá zdroj, který bude vzat v potaz pouze při aktualizacích zdrojů pomocí programu \fBurpmi\fP.
.IP "\fB\--probe-synthesis\fP"
pokusí se najít a použít soubor se syntézou, pokud není zadána volba \fB with ...\fP.
.IP "\fB\--probe-hdlist\fP"
pokusí se najít a použít soubor hdlist, pokud není zadána volba \fB with ...\fP.
.IP "\fB\--no-probe\fP"
nepokusí se hledat ani soubor hdlist, ani soubor se syntézou.
.IP "\fB\--distrib\fP"
přidá všechna zdroje z instalačního zdroje. <\fInázev\fP> je použit spolu s názvem nalezeného zdroje k vytvoření novějšího názvu zdroje v databázi urpmi. Volba \fBwith\fP se v tomto případě nepoužije, protože se použijí automaticky soubory hdlist nalezené na instalačním zdroji.
.IP "\fB\--distrib-XXX\fP"
automaticky vytvoří zdroj pro část XXX distribuce. XXX může být main, contrib, udates nebo cokoli jiného, co je nastaveno.
.IP "\fB\--from\fP \fIurl\fP"
použije zadané \fIurl\fP pro získání seznamu zrcadel, výchozí pro Mandrakesoft je http://www.linux-mandrake.com/mirrorsfull.list. Pouze v případě, že je instalován program \fBurpmi.setup\fP, se použije seznam zrcadel z jeho souboru s nastavením.
.IP "\fB\--version\fP \fIverze\fP"
použije zadanou verzi při použití volby \fB\--distrib-XXX\fP, výchozí je hodnota verze instalovaného balíčku \fBmandrake-release\fP.
.IP "\fB\--arch\fP \fIarchitektura\fP"
použije zadanou architekturu při použití volby \fB\--distrib-XXX\fP, výchozí je architektura instalovaného balíčku \fBmandrake-release\fP.
.IP "\fB\-c\fP"
vymaže vyrovnávací paměť s hlavičkami v adresáři /var/cache/urpmi/headers.
.IP "\fB\-h\fP"
pokusí se najít a použít soubory se syntézou nebo soubory hdlist.
.IP "\fB\-f\fP"
donutí program násilím vygenerovat soubory hdlist.
.SH SOUBORY
/usr/bin/urpmi.addmedia
.br
Spustitelný soubor \fBurpmi.addmedia\fP (skript jazyka Perl)
.PP
/var/lib/urpmi/list.*
.br
Obsahuje seznam všech balíčků známých programu urpmi a jejich umístění, pouze pokud je použito heslo pro přístup ke vzdáleným lokacím (pomocí síťového protokolu), nebo různé adresáře, které jsou použity k uložení balíčků.
.PP
/var/lib/urpmi/hdlist.*
.br
Obsahuje informace o všech známých balíčcích, je to souhrn hlaviček balíčků RPM. Pokud je pro zdroj použit soubor hdlist, může program \fBurpmf\fP kompletně fungovat, což je také nejčastější případ. (Více viz manuálové stránky pro příkaz \fBurpmf\fP).
.PP
/var/lib/urpmi/synthesis.hdlist.*
.br
Obsahuje informace syntézy o všech známých balíčcích, které jsou sestaveny ze souborů hdlist, a které mohou být použity pro urychlení zpracování vašich požadavků. Pokud nejsou tyto soubory přítomny, použijí se soubory hdlist, což je ovšem výrazně pomalejší.
.PP
/etc/urpmi/urpmi.cfg
.br
Obsahuje informace o zdrojích. Je přijímán i formát ze starších verzí programu urpmi.
.PP
/etc/urpmi/parallel.cfg
.br
Obsahuje popis paralelních aliasů ve formátu \fB<alias>:<rozhraní[(zdroje)]>:<parametr_rozhraní>\fP, kde \fB<alias>\fP je symbolický název, \fB<rozhraní>\fP může nabývat hodnot \fBka-run\fP nebo \fBssh\fP, \fB<zdroje>\fP je seznam zdrojů (jako u volby \fB\--media\fP), \fB<parametr_rozhraní>\fP je seznam parametrů specifický pro rozhraní, například "-c ssh -m node1 -m node2" pro rozhraní \fBka-run\fP nebo "node1:node2" pro rozhraní \fBssh\fP.
.PP
/etc/urpmi/skip.list
.br
Obsahuje výrazy s názvy balíčků, které by neměly být automaticky aktualizovány. Formát je tvořen seznamem toho, co balíček poskytuje (nebo regulárním výrazem, pokud je ohraničen lomítky \fB/\fP) s volitelným operátorem a řetězcem s verzí, nebo regulárním výrazem odpovídajícím úplnému názvu balíčku.
.PP
/etc/urpmi/inst.list
.br
Obsahuje názvy balíčků, které by měly být instalovány a ne aktualizovány.
.SH "VIZ TAKÉ"
urpmi(8),
urpmi.update(8),
urpmi.removemedia(8),
urpmf(8),
urpmq(8),
.SH AUTOR
Pascal Rigaux, Mandrakesoft <pixel@mandrakesoft.com> (původní autor)
.br
Francois Pons, Mandrakesoft 
.br
Rafael Garcia-Suarez, Mandrakesoft 
